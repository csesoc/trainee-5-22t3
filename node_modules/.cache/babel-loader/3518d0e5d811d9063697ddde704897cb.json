{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vinay\\\\OneDrive\\\\Documents\\\\projects traine\\\\trainee-5-22t3\\\\src\\\\pages\\\\MainPage.js\",\n    _s = $RefreshSig$();\n\nimport NavHeader from \"../components/NavHeader\";\nimport SideMenu from \"../components/SideMenu\";\nimport HeatmapContainer from \"../components/HeatmapContainer\";\nimport { useRef } from \"react\";\nimport { useContext, useEffect, useState, useLayoutEffect } from \"react\";\nimport { Context } from \"../Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nDate.prototype.addDays = function (days) {\n  var date = new Date(this.valueOf());\n  date.setDate(date.getDate() + days);\n  return date;\n};\n\nconst START_DATE = new Date();\n/*\r\nconst dummyData = Array(200)\r\n  .fill(1)\r\n  .map((ie, i) => {\r\n    let date = START_DATE;\r\n    date = date.addDays(i);\r\n    return {\r\n      date: date,\r\n      index: i,\r\n      note: \"placeholder\",\r\n      wins: Array(10)\r\n        .fill(1)\r\n        .map((x) => Math.round(Math.random() * 20)),\r\n      losses: Array(10)\r\n        .fill(1)\r\n        .map((x) => Math.round(Math.random() * 20)),\r\n      value: Math.round(Math.random() * 1000),\r\n    };\r\n  });\r\n*/\n\nconst dummyData = Array(100).fill(1).map((ie, i) => {\n  let date = START_DATE;\n  date = date.addDays(-i);\n  return {\n    date: date,\n    index: i,\n    note: \"placeholder\",\n    wins: [],\n    losses: [],\n    value: -1\n  };\n}).reverse();\n\nconst MainPage = () => {\n  _s();\n\n  const fetchData = () => {\n    return dummyData;\n  };\n\n  const {\n    cellsData,\n    setCellsData,\n    highlightHabit\n  } = useContext(Context);\n  const ref = useRef(null);\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n\n  const setHeatmapDimensions = () => {\n    setWidth(ref.current.offsetWidth);\n    setHeight(ref.current.offsetHeight);\n  };\n\n  useLayoutEffect(() => {\n    setHeatmapDimensions();\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"resize\", setHeatmapDimensions);\n    setTimeout(() => {\n      const res = fetchData();\n      setCellsData(res);\n    }, 1000); // wait so 2 seconds here\n\n    return () => {\n      window.removeEventListener(\"resize\", setHeatmapDimensions);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-[20px] absolute h-[100%] w-[100%] bg-[#16181c]\",\n    children: [/*#__PURE__*/_jsxDEV(NavHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row flex-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: ref,\n        className: \"h-full w-[80%]\",\n        children: /*#__PURE__*/_jsxDEV(HeatmapContainer, {\n          data: cellsData,\n          highlightProperties: highlightHabit,\n          isPropertiesHighlighted: highlightHabit.length === 0 ? false : true,\n          height: height,\n          width: width\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[20%]\",\n        children: /*#__PURE__*/_jsxDEV(SideMenu, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MainPage, \"TSNSUtEpjxZ3bSRoHzlGRkZixVc=\");\n\n_c = MainPage;\nexport default MainPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["NavHeader","SideMenu","HeatmapContainer","useRef","useContext","useEffect","useState","useLayoutEffect","Context","Date","prototype","addDays","days","date","valueOf","setDate","getDate","START_DATE","dummyData","Array","fill","map","ie","i","index","note","wins","losses","value","reverse","MainPage","fetchData","cellsData","setCellsData","highlightHabit","ref","width","setWidth","height","setHeight","setHeatmapDimensions","current","offsetWidth","offsetHeight","window","addEventListener","setTimeout","res","removeEventListener","length"],"sources":["C:/Users/vinay/OneDrive/Documents/projects traine/trainee-5-22t3/src/pages/MainPage.js"],"sourcesContent":["import NavHeader from \"../components/NavHeader\";\r\nimport SideMenu from \"../components/SideMenu\";\r\nimport HeatmapContainer from \"../components/HeatmapContainer\";\r\nimport { useRef } from \"react\";\r\nimport { useContext, useEffect, useState, useLayoutEffect } from \"react\";\r\nimport { Context } from \"../Context\";\r\n\r\nDate.prototype.addDays = function (days) {\r\n  var date = new Date(this.valueOf());\r\n  date.setDate(date.getDate() + days);\r\n  return date;\r\n};\r\n\r\nconst START_DATE = new Date();\r\n/*\r\nconst dummyData = Array(200)\r\n  .fill(1)\r\n  .map((ie, i) => {\r\n    let date = START_DATE;\r\n    date = date.addDays(i);\r\n    return {\r\n      date: date,\r\n      index: i,\r\n      note: \"placeholder\",\r\n      wins: Array(10)\r\n        .fill(1)\r\n        .map((x) => Math.round(Math.random() * 20)),\r\n      losses: Array(10)\r\n        .fill(1)\r\n        .map((x) => Math.round(Math.random() * 20)),\r\n      value: Math.round(Math.random() * 1000),\r\n    };\r\n  });\r\n*/\r\nconst dummyData = Array(100)\r\n  .fill(1)\r\n  .map((ie, i) => {\r\n    let date = START_DATE;\r\n    date = date.addDays(-i);\r\n    return {\r\n      date: date,\r\n      index: i,\r\n      note: \"placeholder\",\r\n      wins: [],\r\n      losses: [],\r\n      value: -1,\r\n    };\r\n  }).reverse();\r\n\r\nconst MainPage = () => {\r\n  const fetchData = () => {\r\n    return dummyData;\r\n  };\r\n\r\n  const { cellsData, setCellsData, highlightHabit } = useContext(Context);\r\n\r\n  const ref = useRef(null);\r\n\r\n  const [width, setWidth] = useState(0);\r\n  const [height, setHeight] = useState(0);\r\n\r\n  const setHeatmapDimensions = () => {\r\n    setWidth(ref.current.offsetWidth);\r\n    setHeight(ref.current.offsetHeight);\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    setHeatmapDimensions();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", setHeatmapDimensions);\r\n    setTimeout(() => {\r\n      const res = fetchData();\r\n      setCellsData(res);\r\n    }, 1000); // wait so 2 seconds here\r\n    return () => {\r\n      window.removeEventListener(\"resize\", setHeatmapDimensions);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-[20px] absolute h-[100%] w-[100%] bg-[#16181c]\">\r\n      <NavHeader />\r\n      <div className=\"flex flex-row flex-1\">\r\n        <div ref={ref} className=\"h-full w-[80%]\">\r\n          <HeatmapContainer\r\n            data={cellsData}\r\n            highlightProperties={highlightHabit}\r\n            isPropertiesHighlighted={highlightHabit.length === 0 ? false : true}\r\n            height={height}\r\n            width={width}\r\n          />\r\n        </div>\r\n        <div className=\"w-[20%]\">\r\n          <SideMenu />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}